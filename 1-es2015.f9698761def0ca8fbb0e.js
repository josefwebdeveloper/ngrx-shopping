(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{aAFz:function(t,e,c){"use strict";c.r(e),c.d(e,"ShoppingModule",(function(){return Tt}));var n={};c.r(n),c.d(n,"loadAllProducts",(function(){return l})),c.d(n,"allProductsLoaded",(function(){return p})),c.d(n,"productAdded",(function(){return b})),c.d(n,"productReceived",(function(){return h})),c.d(n,"productDeleted",(function(){return m})),c.d(n,"loadAllShops",(function(){return f})),c.d(n,"allShopsLoaded",(function(){return g})),c.d(n,"shopUpdated",(function(){return O}));var s=c("ofXK"),i=c("tyNb"),o=c("kt0X"),r=c("vkgz"),a=c("pLZG"),d=c("SxV6"),u=c("nYR2");const l=Object(o.n)("[Products Resolver] Load All Products"),p=Object(o.n)("[Load Products Effect] All Products Loaded",Object(o.s)()),b=Object(o.n)("[Add Product] Add Product",Object(o.s)()),h=Object(o.n)("[Products List] Product Received",Object(o.s)()),m=Object(o.n)("[Products List] Product Deleted",Object(o.s)()),f=Object(o.n)("[Shops Resolver] Load All Shops"),g=Object(o.n)("[Load Shops Effect] All Shops Loaded",Object(o.s)()),O=Object(o.n)("[Shopping] Shop Updated",Object(o.s)());var v=c("fXoL");const j=function(){var t={EntitiesOnly:0,Both:1,None:2};return t[t.EntitiesOnly]="EntitiesOnly",t[t.Both]="Both",t[t.None]="None",t}();function y(t){return function(e,c){const n={ids:[...c.ids],entities:Object.assign({},c.entities)},s=t(e,n);return s===j.Both?Object.assign({},c,n):s===j.EntitiesOnly?Object.assign(Object.assign({},c),{entities:n.entities}):c}}function P(t,e){const c=e(t);return Object(v.W)()&&void 0===c&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",t,"The `selectId` implementation:",e.toString()),c}function U(t){function e(e,c){const n=P(e,t);return n in c.entities?j.None:(c.ids.push(n),c.entities[n]=e,j.Both)}function c(t,c){let n=!1;for(const s of t)n=e(s,c)!==j.None||n;return n?j.Both:j.None}function n(t,e){return e.ids=[],e.entities={},c(t,e),j.Both}function s(t,e){const c=(t instanceof Array?t:e.ids.filter(c=>t(e.entities[c]))).filter(t=>t in e.entities).map(t=>delete e.entities[t]).length>0;return c&&(e.ids=e.ids.filter(t=>t in e.entities)),c?j.Both:j.None}function i(e,c){const n={};return(e=e.filter(t=>t.id in c.entities)).length>0?e.filter(e=>function(e,c,n){const s=Object.assign({},n.entities[c.id],c.changes),i=P(s,t),o=i!==c.id;return o&&(e[c.id]=i,delete n.entities[c.id]),n.entities[i]=s,o}(n,e,c)).length>0?(c.ids=c.ids.map(t=>n[t]||t),j.Both):j.EntitiesOnly:j.None}function o(e,n){const s=[],o=[];for(const c of e){const e=P(c,t);e in n.entities?o.push({id:e,changes:c}):s.push(c)}const r=i(o,n),a=c(s,n);switch(!0){case a===j.None&&r===j.None:return j.None;case a===j.Both||r===j.Both:return j.Both;default:return j.EntitiesOnly}}return{removeAll:function(t){return Object.assign({},t,{ids:[],entities:{}})},addOne:y(e),addMany:y(c),addAll:y(n),setAll:y(n),setOne:y((function(e,c){const n=P(e,t);return n in c.entities?(c.entities[n]=e,j.EntitiesOnly):(c.ids.push(n),c.entities[n]=e,j.Both)})),updateOne:y((function(t,e){return i([t],e)})),updateMany:y(i),upsertOne:y((function(t,e){return o([t],e)})),upsertMany:y(o),removeOne:y((function(t,e){return s([t],e)})),removeMany:y(s),map:y((function(t,e){return i(e.ids.reduce((c,n)=>{const s=t(e.entities[n]);return s!==e.entities[n]&&c.push({id:n,changes:s}),c},[]).filter(({id:t})=>t in e.entities),e)}))}}function S(t={}){const{selectId:e,sortComparer:c}=Object.assign({sortComparer:!1,selectId:t=>t.id},t),n={getInitialState:function(t={}){return Object.assign({ids:[],entities:{}},t)}},s={getSelectors:function(t){const e=t=>t.ids,c=t=>t.entities,n=Object(o.q)(e,c,(t,e)=>t.map(t=>e[t])),s=Object(o.q)(e,t=>t.length);return t?{selectIds:Object(o.q)(t,e),selectEntities:Object(o.q)(t,c),selectAll:Object(o.q)(t,n),selectTotal:Object(o.q)(t,s)}:{selectIds:e,selectEntities:c,selectAll:n,selectTotal:s}}},i=c?function(t,e){const{removeOne:c,removeMany:n,removeAll:s}=U(t);function i(t,e){return o([t],e)}function o(e,c){const n=e.filter(e=>!(P(e,t)in c.entities));return 0===n.length?j.None:(u(n,c),j.Both)}function r(t,e){return e.entities={},e.ids=[],o(t,e),j.Both}function a(e,c){const n=[],s=e.filter(e=>function(e,c,n){if(!(c.id in n.entities))return!1;const s=Object.assign({},n.entities[c.id],c.changes),i=P(s,t);return delete n.entities[c.id],e.push(s),i!==c.id}(n,e,c)).length>0;if(0===n.length)return j.None;{const t=c.ids,e=[];return c.ids=c.ids.filter((t,n)=>t in c.entities||(e.push(n),!1)),u(n,c),!s&&e.every(e=>c.ids[e]===t[e])?j.EntitiesOnly:j.Both}}function d(e,c){const n=[],s=[];for(const o of e){const e=P(o,t);e in c.entities?s.push({id:e,changes:o}):n.push(o)}const i=a(s,c),r=o(n,c);switch(!0){case r===j.None&&i===j.None:return j.None;case r===j.Both||i===j.Both:return j.Both;default:return j.EntitiesOnly}}function u(c,n){c.sort(e);const s=[];let i=0,o=0;for(;i<c.length&&o<n.ids.length;){const r=c[i],a=P(r,t),d=n.ids[o];e(r,n.entities[d])<=0?(s.push(a),i++):(s.push(d),o++)}n.ids=s.concat(i<c.length?c.slice(i).map(t):n.ids.slice(o)),c.forEach((e,c)=>{n.entities[t(e)]=e})}return{removeOne:c,removeMany:n,removeAll:s,addOne:y(i),updateOne:y((function(t,e){return a([t],e)})),upsertOne:y((function(t,e){return d([t],e)})),addAll:y(r),setAll:y(r),setOne:y((function(e,c){const n=P(e,t);return n in c.entities?(c.ids=c.ids.filter(t=>t!==n),u([e],c),j.Both):i(e,c)})),addMany:y(o),updateMany:y(a),upsertMany:y(d),map:y((function(t,e){return a(e.ids.reduce((c,n)=>{const s=t(e.entities[n]);return s!==e.entities[n]&&c.push({id:n,changes:s}),c},[]),e)}))}}(e,c):U(e);return Object.assign(Object.assign(Object.assign({selectId:e,sortComparer:c},n),s),i)}const T=S({sortComparer:function(t,e){const c=new Date(t.deliveryEstDate).getTime()-new Date(e.deliveryEstDate).getTime();return c>0?1:c<0?-1:0}}),C=T.getInitialState({allProductsLoaded:!1}),A=Object(o.p)(C,Object(o.r)(n.allProductsLoaded,(t,e)=>T.addAll(e.products,Object.assign(Object.assign({},t),{allProductsLoaded:!0}))),Object(o.r)(n.productAdded,(t,e)=>T.addOne(e.product,t)),Object(o.r)(n.productReceived,(t,{update:e})=>T.updateOne(e,t)),Object(o.r)(n.productDeleted,(t,{id:e})=>T.removeOne(e,t))),{selectAll:D}=T.getSelectors(),I=S(),w=I.getInitialState({allShopsLoaded:!1}),R=Object(o.p)(w,Object(o.r)(n.allShopsLoaded,(t,e)=>I.addAll(e.shops,Object.assign(Object.assign({},t),{allShopsLoaded:!0}))),Object(o.r)(n.shopUpdated,(t,{update:e})=>I.updateOne(e,t))),{selectAll:L}=I.getSelectors(),N=Object(o.o)("products"),k=Object(o.o)("shops"),F=Object(o.q)(N,D),$=Object(o.q)(k,L),M=Object(o.q)(N,t=>t.allProductsLoaded);Object(o.q)(k,t=>t.allShopsLoaded);let B=(()=>{class t{constructor(t){this.store=t,this.productsLoading=!1}resolve(t,e){return this.store.pipe(Object(o.t)(M),Object(r.a)(t=>{this.productsLoading||t||(this.productsLoading=!0,this.store.dispatch(l()))}),Object(a.a)(t=>t),Object(d.a)(),Object(u.a)(()=>this.productsLoading=!1))}}return t.\u0275fac=function(e){return new(e||t)(v.Yb(o.h))},t.\u0275prov=v.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var E=c("+TCo"),V=c("lJxs"),q=c("Ta0S");const x=Object(o.o)("router"),{selectQueryParam:z,selectUrl:_}=q.b(x);z("carId");var Y=c("wZkO"),G=c("Wp6s"),K=c("bSwM"),J=c("bTqV"),X=c("NFeN");let W=(()=>{class t{constructor(t){this.currencyPipe=t}transform(t,e){if(e){const c=t*Object.values(e.rates)[0];return this.currencyPipe.transform(c,Object.keys(e.rates)[0])}return null}}return t.\u0275fac=function(e){return new(e||t)(v.Ob(s.d))},t.\u0275pipe=v.Nb({name:"convertCurrency",type:t,pure:!0}),t})();function Z(t,e){if(1&t){const t=v.Vb();v.Ub(0,"mat-card"),v.Ub(1,"mat-card-header"),v.Ub(2,"mat-card-title"),v.Ac(3),v.Tb(),v.Ub(4,"mat-card-subtitle"),v.Ac(5),v.Tb(),v.Tb(),v.Ub(6,"mat-card-content"),v.Ub(7,"div"),v.Ac(8),v.hc(9,"convertCurrency"),v.Tb(),v.Ub(10,"div"),v.Ac(11),v.hc(12,"date"),v.Tb(),v.Tb(),v.Ub(13,"mat-card-actions",1),v.Ub(14,"mat-checkbox",2),v.cc("change",(function(){v.tc(t);const c=e.$implicit;return v.gc().checkToggled(c)})),v.Ac(15," Received "),v.Tb(),v.Ub(16,"button",3),v.cc("click",(function(){v.tc(t);const c=e.$implicit;return v.gc().deleteItem(c)})),v.Ub(17,"mat-icon"),v.Ac(18,"delete"),v.Tb(),v.Tb(),v.Tb(),v.Tb()}if(2&t){const t=e.$implicit,c=v.gc();v.Cb(3),v.Bc(t.name),v.Cb(2),v.Bc(t.shop.name),v.Cb(3),v.Cc(" Price: ",v.jc(9,5,t.price.USD,c.currencyUpdated)," "),v.Cb(3),v.Cc(" Estimated Delivery: ",v.jc(12,8,t.deliveryEstDate,"dd.MM.yyyy")," "),v.Cb(3),v.mc("checked",t.received)}}let Q=(()=>{class t{constructor(t){this.store=t}ngOnInit(){}checkToggled(t){const e=!t.received,c=Object.assign(Object.assign({},t),{received:e}),n=this.shops.find(e=>e.id===t.shop.id),s=Object.assign(Object.assign({},n),{totalReceivedProducts:e?n.totalReceivedProducts+1:n.totalReceivedProducts>0?n.totalReceivedProducts-1:n.totalReceivedProducts,totalReceivedValue:{USD:e?n.totalReceivedValue.USD+t.price.USD:n.totalReceivedValue.USD-t.price.USD}}),i={id:t.shop.id,changes:s};this.store.dispatch(h({update:Object.assign({},{id:t.id,changes:c})})),this.store.dispatch(O({update:Object.assign({},i)}))}deleteItem(t){const e=this.shops.find(e=>e.id===t.shop.id),c=Object.assign(Object.assign({},e),{totalValue:{USD:e.totalValue.USD-t.price.USD},totalProducts:e.totalProducts-1,totalReceivedProducts:t.received?e.totalReceivedProducts-1:e.totalReceivedProducts,totalReceivedValue:{USD:t.received?e.totalReceivedValue.USD-t.price.USD:e.totalReceivedValue.USD}}),n={id:t.shop.id,changes:c};this.store.dispatch(m({id:t.id})),this.store.dispatch(O({update:Object.assign({},n)}))}}return t.\u0275fac=function(e){return new(e||t)(v.Ob(o.h))},t.\u0275cmp=v.Ib({type:t,selectors:[["app-products-list"]],inputs:{currencyUpdated:"currencyUpdated",products:"products",shops:"shops"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"product-actions-container"],[3,"checked","change"],["mat-mini-fab","","color","warn",1,"delete-btn",3,"click"]],template:function(t,e){1&t&&v.zc(0,Z,19,11,"mat-card",0),2&t&&v.mc("ngForOf",e.products)},directives:[s.l,G.a,G.d,G.g,G.f,G.c,G.b,K.a,J.a,X.a],pipes:[W,s.f],styles:["[_nghost-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-gap:1em;margin:1em}.product-actions-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}@media screen and (min-width:720px){[_nghost-%COMP%]{grid-template-columns:repeat(4,1fr)}}"]}),t})();function H(t,e){if(1&t&&(v.Ub(0,"mat-card",1),v.Ub(1,"mat-card-header"),v.Ub(2,"mat-card-title"),v.Ac(3),v.Tb(),v.Tb(),v.Ub(4,"mat-card-content"),v.Ub(5,"div"),v.Ac(6),v.Tb(),v.Ub(7,"div"),v.Ac(8),v.Tb(),v.Ub(9,"div"),v.Ac(10),v.hc(11,"convertCurrency"),v.Tb(),v.Ub(12,"div"),v.Ac(13),v.hc(14,"convertCurrency"),v.Tb(),v.Tb(),v.Tb()),2&t){const t=e.$implicit,c=v.gc();v.Cb(3),v.Bc(t.name),v.Cb(3),v.Cc("Total Products: ",t.totalProducts,""),v.Cb(2),v.Cc("Total Received Products: ",t.totalReceivedProducts,""),v.Cb(2),v.Cc("Total Value: ",v.jc(11,5,t.totalValue.USD,c.currencyUpdated),""),v.Cb(3),v.Cc("Total Value Received: ",v.jc(14,8,t.totalReceivedValue.USD,c.currencyUpdated),"")}}let tt=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=v.Ib({type:t,selectors:[["app-shops-list"]],inputs:{shops:"shops",currencyUpdated:"currencyUpdated"},decls:1,vars:1,consts:[["class","shop-card",4,"ngFor","ngForOf"],[1,"shop-card"]],template:function(t,e){1&t&&v.zc(0,H,15,11,"mat-card",0),2&t&&v.mc("ngForOf",e.shops)},directives:[s.l,G.a,G.d,G.g,G.c],pipes:[W],styles:[".shop-card[_ngcontent-%COMP%]{margin:1em}"]}),t})();var et=c("3Pt+"),ct=c("kmnG"),nt=c("qFsG"),st=c("d3UM"),it=c("iadO"),ot=c("FKr1");function rt(t,e){if(1&t&&(v.Ub(0,"mat-option",13),v.Ac(1),v.Tb()),2&t){const t=e.$implicit;v.mc("value",t.id),v.Cb(1),v.Cc(" ",t.name," ")}}function at(t,e){if(1&t&&(v.Ub(0,"button",14),v.Ac(1," Submit "),v.Tb()),2&t){const t=v.gc();v.mc("disabled",t.addProductForm.invalid)}}function dt(t,e){if(1&t){const t=v.Vb();v.Ub(0,"button",15),v.cc("click",(function(){return v.tc(t),v.gc().onResetForm()})),v.Ac(1," Add another product "),v.Tb()}}let ut=(()=>{class t{constructor(t,e){this.store=t,this.cdr=e,this.addProductForm=new et.f({name:new et.d("asd",[et.o.required,et.o.minLength(1)]),shopId:new et.d("s2",[et.o.pattern("s[0-9]+")]),priceUSD:new et.d(9.99,[et.o.required,et.o.min(.01)]),deliveryEstDate:new et.d("",[et.o.required])}),this.submitted=!1}ngOnInit(){this.allShops$=this.store.pipe(Object(o.t)($)).subscribe(t=>this.allShops=t)}onSubmit(){const t={id:"p"+Date.now(),name:this.addProductForm.value.name,price:{USD:this.addProductForm.value.priceUSD},received:!1,deliveryEstDate:new Date(this.addProductForm.value.deliveryEstDate).toISOString(),shop:this.allShops.find(t=>t.id===this.addProductForm.value.shopId)},e=Object.assign(Object.assign({},t.shop),{totalValue:{USD:t.shop.totalValue.USD+t.price.USD},totalProducts:t.shop.totalProducts+1,totalReceivedProducts:t.received?t.shop.totalReceivedProducts+1:t.shop.totalReceivedProducts,totalReceivedValue:{USD:t.received?t.shop.totalReceivedValue.USD+t.price.USD:t.shop.totalReceivedValue.USD}});this.store.dispatch(b({product:Object.assign({},t)})),this.store.dispatch(O({update:{id:e.id,changes:Object.assign({},e)}})),this.submitted=!0,this.addProductForm.disable()}onResetForm(){this.addProductForm.enable(),this.submitted=!1}ngOnDestroy(){this.allShops$.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(v.Ob(o.h),v.Ob(v.h))},t.\u0275cmp=v.Ib({type:t,selectors:[["app-add-product"]],decls:26,vars:6,consts:[[3,"formGroup","ngSubmit"],["appearance","outline"],["matInput","","placeholder","Product Name","formControlName","name"],["formControlName","shopId"],[3,"value",4,"ngFor","ngForOf"],["matInput","","placeholder","99.9","formControlName","priceUSD"],["matSuffix",""],["matInput","","formControlName","deliveryEstDate",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],[1,"form-action"],["type","submit","mat-raised-button","","color","accent",3,"disabled",4,"ngIf"],["type","reset","mat-raised-button","","color","accent",3,"click",4,"ngIf"],[3,"value"],["type","submit","mat-raised-button","","color","accent",3,"disabled"],["type","reset","mat-raised-button","","color","accent",3,"click"]],template:function(t,e){if(1&t&&(v.Ub(0,"form",0),v.cc("ngSubmit",(function(){return e.onSubmit()})),v.Ub(1,"mat-form-field",1),v.Ub(2,"mat-label"),v.Ac(3,"Product Name"),v.Tb(),v.Pb(4,"input",2),v.Tb(),v.Ub(5,"mat-form-field",1),v.Ub(6,"mat-label"),v.Ac(7,"Shop"),v.Tb(),v.Ub(8,"mat-select",3),v.zc(9,rt,2,2,"mat-option",4),v.Tb(),v.Tb(),v.Ub(10,"mat-form-field",1),v.Ub(11,"mat-label"),v.Ac(12,"Product Price"),v.Tb(),v.Pb(13,"input",5),v.Ub(14,"span",6),v.Ac(15,"$"),v.Tb(),v.Tb(),v.Ub(16,"mat-form-field",1),v.Ub(17,"mat-label"),v.Ac(18,"Delivery Estimated Date"),v.Tb(),v.Pb(19,"input",7),v.Pb(20,"mat-datepicker-toggle",8),v.Pb(21,"mat-datepicker",null,9),v.Tb(),v.Ub(23,"div",10),v.zc(24,at,2,1,"button",11),v.zc(25,dt,2,0,"button",12),v.Tb(),v.Tb()),2&t){const t=v.rc(22);v.mc("formGroup",e.addProductForm),v.Cb(9),v.mc("ngForOf",e.allShops),v.Cb(10),v.mc("matDatepicker",t),v.Cb(1),v.mc("for",t),v.Cb(4),v.mc("ngIf",!e.submitted),v.Cb(1),v.mc("ngIf",e.submitted)}},directives:[et.p,et.l,et.g,ct.b,ct.e,nt.b,et.b,et.k,et.e,st.a,s.l,ct.f,it.b,it.d,it.a,s.m,ot.n,J.a],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:80%;max-width:600px;margin:3em auto}form[_ngcontent-%COMP%]   .form-action[_ngcontent-%COMP%]{margin:auto}"]}),t})();function lt(t,e){if(1&t&&(v.Pb(0,"app-products-list",6),v.hc(1,"async"),v.hc(2,"async"),v.hc(3,"async")),2&t){const t=v.gc();v.mc("currencyUpdated",v.ic(1,3,t.currencyUpdated$))("products",v.ic(2,5,t.allProducts$))("shops",v.ic(3,7,t.allShops$))}}function pt(t,e){if(1&t&&(v.Pb(0,"app-shops-list",7),v.hc(1,"async"),v.hc(2,"async")),2&t){const t=v.gc();v.mc("currencyUpdated",v.ic(1,2,t.currencyUpdated$))("shops",v.ic(2,4,t.allShops$))}}function bt(t,e){1&t&&(v.Ub(0,"mat-icon",9),v.Ac(1,"add_plus"),v.Tb(),v.Ac(2," Add Product "))}function ht(t,e){1&t&&(v.Ub(0,"mat-tab"),v.zc(1,bt,3,0,"ng-template",8),v.Pb(2,"app-add-product"),v.Tb())}function mt(t,e){1&t&&(v.Ub(0,"div",10),v.Ac(1," No Products...\n"),v.Tb())}function ft(t,e){1&t&&(v.Ub(0,"div",10),v.Ac(1," No Shops...\n"),v.Tb())}const gt=[{path:"",component:(()=>{class t{constructor(t){this.store=t}ngOnInit(){this.currencyUpdated$=this.store.pipe(Object(o.t)(E.b)),this.getInitialProducts()}onTabChanged(t){this.activeTab=t.index}getInitialProducts(){this.store.pipe(Object(o.t)(_),Object(d.a)()).subscribe(t=>{t.includes("received")?(this.receivedList=!0,this.allProducts$=this.store.pipe(Object(o.t)(F),Object(V.a)(t=>t.filter(t=>t.received))),this.allShops$=this.store.pipe(Object(o.t)($),Object(V.a)(t=>t.filter(t=>t.totalReceivedProducts>0)))):(this.receivedList=!1,this.allProducts$=this.store.pipe(Object(o.t)(F),Object(V.a)(t=>t.filter(t=>!t.received))),this.allShops$=this.store.pipe(Object(o.t)($),Object(V.a)(t=>t.filter(t=>t.totalProducts>t.totalReceivedProducts))))})}}return t.\u0275fac=function(e){return new(e||t)(v.Ob(o.h))},t.\u0275cmp=v.Ib({type:t,selectors:[["app-products-page"]],decls:10,vars:7,consts:[[3,"focusChange"],["label","Products"],["matTabContent",""],["label","Stores"],[4,"ngIf"],["class","no-products mat-display-2",4,"ngIf"],[3,"currencyUpdated","products","shops"],[3,"currencyUpdated","shops"],["mat-tab-label",""],[1,"example-tab-icon"],[1,"no-products","mat-display-2"]],template:function(t,e){1&t&&(v.Ub(0,"mat-tab-group",0),v.cc("focusChange",(function(t){return e.onTabChanged(t)})),v.Ub(1,"mat-tab",1),v.zc(2,lt,4,9,"ng-template",2),v.Tb(),v.Ub(3,"mat-tab",3),v.zc(4,pt,3,6,"ng-template",2),v.Tb(),v.zc(5,ht,3,0,"mat-tab",4),v.Tb(),v.zc(6,mt,2,0,"div",5),v.hc(7,"async"),v.zc(8,ft,2,0,"div",5),v.hc(9,"async")),2&t&&(v.Cb(5),v.mc("ngIf",!e.receivedList),v.Cb(1),v.mc("ngIf",0===v.ic(7,3,e.allProducts$).length&&0===e.activeTab),v.Cb(2),v.mc("ngIf",0===v.ic(9,5,e.allShops$).length&&1===e.activeTab))},directives:[Y.c,Y.a,Y.b,s.m,Q,tt,Y.d,ut,X.a],pipes:[s.b],styles:[".no-products[_ngcontent-%COMP%]{text-align:center}"]}),t})(),resolve:{products:B}}];let Ot=(()=>{class t{}return t.\u0275mod=v.Mb({type:t}),t.\u0275inj=v.Lb({factory:function(e){return new(e||t)},imports:[[i.h.forChild(gt)],i.h]}),t})();var vt=c("snw9"),jt=c("bOdf"),yt=c("tk/3");let Pt=(()=>{class t{constructor(t){this.http=t}getInitialProducts(){return this.http.get("assets/products.json")}getInitialShops(){return this.http.get("assets/shops.json")}}return t.\u0275fac=function(e){return new(e||t)(v.Yb(yt.a))},t.\u0275prov=v.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Ut=(()=>{class t{constructor(t,e,c){this.actions$=t,this.store=e,this.shoppingService=c,this.loadedProducts$=Object(vt.c)(()=>this.actions$.pipe(Object(vt.d)(n.loadAllProducts),Object(jt.a)(t=>this.shoppingService.getInitialProducts()),Object(V.a)(t=>p({products:t})))),this.loadShops$=Object(vt.c)(()=>this.actions$.pipe(Object(vt.d)(n.allProductsLoaded),Object(V.a)(()=>f()))),this.loadedShops$=Object(vt.c)(()=>this.actions$.pipe(Object(vt.d)(n.loadAllShops),Object(jt.a)(t=>this.shoppingService.getInitialShops()),Object(V.a)(t=>g({shops:t}))))}}return t.\u0275fac=function(e){return new(e||t)(v.Yb(vt.a),v.Yb(o.h),v.Yb(Pt))},t.\u0275prov=v.Kb({token:t,factory:t.\u0275fac}),t})();var St=c("vvyD");let Tt=(()=>{class t{}return t.\u0275mod=v.Mb({type:t}),t.\u0275inj=v.Lb({factory:function(e){return new(e||t)},providers:[s.d],imports:[[s.c,St.a,Ot,et.n,o.j.forFeature("products",A),o.j.forFeature("shops",R),vt.b.forFeature([Ut])]]}),t})()}}]);