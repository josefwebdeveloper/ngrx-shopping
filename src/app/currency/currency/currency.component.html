

<mat-toolbar-row class="currency-row">
  <form [formGroup]="currencyForm" class="currency-form-container">
    <mat-form-field>
      <mat-label>Show prices in:</mat-label>
      <mat-select formControlName="currency">
        <mat-option *ngFor="let symbol of currenciesList" [value]="symbol">
          {{ symbol }}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field>
      <mat-label>Update every:</mat-label>
      <mat-select formControlName="updateInterval">
        <mat-option *ngFor="let interval of intervalsList" [value]="interval">
          {{ interval | date:'mm:ss' }}
        </mat-option>
      </mat-select>
      <mat-hint>seconds</mat-hint>
    </mat-form-field>
  </form>
</mat-toolbar-row>

<div class="currency-container">

  <div class="currency-update-container" *ngIf="(currency$ | async)?.date">
    <div>Last Successful Update:</div>
    <div>{{ updateTimestamp$ | async | date: "'on' dd.MM.yyyy 'at' HH:mm:ss" }}</div>
  </div>
  <mat-chip-list *ngIf="(currency$ | async)?.date" class="currency-rate-container">
    <mat-chip color="accent" selected>{{1 | currency: (currency$ | async).base }} = {{(currency$ | async).rates.ILS | currency: 'ILS'}}</mat-chip>
  </mat-chip-list>
</div>
